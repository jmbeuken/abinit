# -*- INI -*-
#
# Copyright (C) 2009-2016 ABINIT Group (Yann Pouillon)
#
# This file is part of the ABINIT software package. For license information,
# please see the COPYING file in the top-level directory of the ABINIT source
# distribution.
#

#
# Config file to generate build config files for the ABINIT test farm
#
# Note: The following statements are in the Python "INI" format, with
#       case-sensitivity activated.
#

#
# File format:
#
#   * each section is the name assigned to a Buildbot slave;
#   * the contents of each section are valid options of the build system
#     (see options.conf for details);
#   * the 'status' option tells whether the config file has been
#     validated and certified by a maintainer of Abinit.
#

# WARNING: modify the defaults with *extreme* care!
[DEFAULT]
status = certified
enable_maintainer_checks = no
enable_memory_profiling = no
with_dft_flavor = atompaw+bigdft+libxc+wannier90
with_linalg_flavor = none
with_trio_flavor = etsf_io+netcdf

###########################################################
#      NIGHTLY BUILDERS
###########################################################

###########################################################
# ABIREF ( CentOS 7) : REF

# openmpi 1.10.2, reference
[abiref_gnu_5.3_openmpi]

CPPFLAGS_EXTRA= -DHAVE_TEST_TIME_PARTITIONING
FCFLAGS_EXTRA = -O2 -g -Wall -Wno-maybe-uninitialized -ffpe-trap=invalid,zero,overflow -fbacktrace -pedantic -fcheck=all

enable_mpi = yes
enable_mpi_io = yes
with_mpi_prefix = /usr/local/openmpi_gcc53

with_trio_flavor = netcdf+etsf_io+psml
with_etsf_io_incs = -I/usr/local/fallbacks/gnu/5.3/mpi/include
with_etsf_io_libs = -L/usr/local/fallbacks/gnu/5.3/mpi/lib -letsf_io_low_level -letsf_io_utils -letsf_io
with_netcdf_incs = -I/usr/local/fallbacks/gnu/5.3/mpi/include
with_netcdf_libs = -L/usr/local/fallbacks/gnu/5.3/mpi/lib -lnetcdf
with_psml_incs = -I/usr/local/psml-gcc53/include
with_psml_libs = -L/usr/local/psml-gcc53/lib -lpsml

with_dft_flavor = atompaw+libxc+wannier90+bigdft
with_atompaw_bins = /usr/local/fallbacks/gnu/5.3/mpi/bin
with_atompaw_incs = -I/usr/local/fallbacks/gnu/5.3/mpi/include
with_atompaw_libs = -L/usr/local/fallbacks/gnu/5.3/mpi/lib -latompaw
with_libxc_incs = -I/usr/local/fallbacks/gnu/5.3/mpi/include
with_libxc_libs = -L/usr/local/fallbacks/gnu/5.3/mpi/lib -lxcf90 -lxc
with_wannier90_bins = /usr/local/fallbacks/gnu/5.3/mpi/bin
with_wannier90_incs = -I/usr/local/fallbacks/gnu/5.3/mpi/include
with_wannier90_libs = -L/usr/local/fallbacks/gnu/5.3/mpi/lib -lwannier90
with_bigdft_incs = -I/usr/local/fallbacks/gnu/5.3/mpi/include
with_bigdft_libs = -L/usr/local/fallbacks/gnu/5.3/mpi/lib -lbigdft-1 -labinit -lyaml -lrt
#with_fallbacks_prefix = /usr/local/fallbacks/gnu/5.3/mpi

with_fft_flavor = fftw3
with_fft_incs = -I/usr/include
with_fft_libs = -L/usr/lib64 -lfftw3 -lfftw3f
# OpenBLAS
with_linalg_flavor = custom
with_linalg_libs = -L/usr/local/OpenBLAS/lib -lopenblas -lpthread

enable_gw_dpc = yes
status = certified

# reference
[abiref_gnu_5.3_serial]

FCFLAGS_EXTRA = -O2 -g -Wall -Wno-maybe-uninitialized -ffpe-trap=invalid,zero,overflow -fbacktrace -pedantic -fcheck=all
enable_mpi = no
enable_mpi_io = yes

with_trio_flavor = netcdf+etsf_io+psml
with_etsf_io_incs = -I/usr/local/fallbacks/gnu/5.3/serial/include
with_etsf_io_libs = -L/usr/local/fallbacks/gnu/5.3/serial/lib -letsf_io_low_level -letsf_io_utils -letsf_io
with_netcdf_incs = -I/usr/local/fallbacks/gnu/5.3/serial/include
with_netcdf_libs = -L/usr/local/fallbacks/gnu/5.3/serial/lib -lnetcdf
with_psml_incs = -I/usr/local/psml-gcc53/include
with_psml_libs = -L/usr/local/psml-gcc53/lib -lpsml

with_dft_flavor = atompaw+libxc+wannier90+bigdft
with_atompaw_bins = /usr/local/fallbacks/gnu/5.3/serial/bin
with_atompaw_incs = -I/usr/local/fallbacks/gnu/5.3/serial/include
with_atompaw_libs = -L/usr/local/fallbacks/gnu/5.3/serial/lib -latompaw
with_libxc_incs = -I/usr/local/fallbacks/gnu/5.3/serial/include
with_libxc_libs = -L/usr/local/fallbacks/gnu/5.3/serial/lib -lxcf90 -lxc
with_wannier90_bins = /usr/local/fallbacks/gnu/5.3/serial/bin
with_wannier90_incs = -I/usr/local/fallbacks/gnu/5.3/serial/include
with_wannier90_libs = -L/usr/local/fallbacks/gnu/5.3/serial/lib -lwannier90
with_bigdft_incs = -I/usr/local/fallbacks/gnu/5.3/serial/include
with_bigdft_libs = -L/usr/local/fallbacks/gnu/5.3/serial/lib -lbigdft-1 -labinit -lyaml -lrt
#with_fallbacks_prefix = /usr/local/fallbacks/gnu/5.3/serial

with_fft_flavor = fftw3
with_fft_incs = -I/usr/include
with_fft_libs = -L/usr/lib64 -lfftw3 -lfftw3f
# OpenBLAS
with_linalg_flavor = custom
with_linalg_libs = -L/usr/local/OpenBLAS/lib -lopenblas -lpthread
enable_gw_dpc = yes
status = certified

[abiref_gnu_5.3_debug]
enable_mpi = no
enable_mpi_io = no

FCFLAGS_EXTRA = -Wno-implicit-interface
with_dft_flavor = none
with_trio_flavor = etsf_io+netcdf
with_etsf_io_incs = -I/usr/local/fallbacks/gnu/5.3/serial/include
with_etsf_io_libs = -L/usr/local/fallbacks/gnu/5.3/serial/lib -letsf_io_low_level -letsf_io_utils -letsf_io
with_netcdf_incs = -I/usr/local/fallbacks/gnu/5.3/serial/include
with_netcdf_libs = -L/usr/local/fallbacks/gnu/5.3/serial/lib -lnetcdf
with_fft_flavor = fftw3
with_fft_incs = -I/usr/include
with_fft_libs = -L/usr/lib64 -lfftw3 -lfftw3f
# OpenBLAS
with_linalg_flavor = custom
with_linalg_libs = -L/usr/local/OpenBLAS/lib -lopenblas -lpthread

enable_64bit_flags = no
enable_gw_dpc = no
enable_optim = no
enable_debug = enhanced
enable_fc_wrapper = no

enable_cclock = no
enable_openmp = no
enable_maintainer_checks = yes
enable_exports = yes

status = certified

[abiref_nag_6.1_openmpi]
FPPFLAGS = -P -traditional-cpp
FCFLAGS_EXTRA = -g -L/usr/local/nag/lib
enable_fc_wrapper = yes
enable_mpi = yes
enable_mpi_io = yes
with_mpi_prefix = /usr/local/openmpi_nag

with_dft_flavor = none

with_trio_flavor = netcdf+etsf_io
#with_etsf_io_incs = -I/usr/local/fallbacks/nag/6.1/mpi/include
#with_etsf_io_libs = -L/usr/local/fallbacks/nag/6.1/mpi/lib -letsf_io_low_level -letsf_io_utils -letsf_io
#with_netcdf_incs = -I/usr/local/fallbacks/nag/6.1/mpi/include
#with_netcdf_libs = -L/usr/local/fallbacks/nag/6.1/mpi/lib -lnetcdf

#with_fft_flavor = fftw3
#with_fft_incs = -I/usr/include/
#with_fft_libs = -L/usr/lib64 -lfftw3 -lfftw3f
#with_linalg_flavor = netlib
#with_linalg_libs = -L/usr/lib64 -llapack -lblas

enable_gw_dpc = yes
status = certified

# END ABIREF
###########################################################


###########################################################
# UBU ( ubuntu 16.04 LTS )

# gcc49x/mpich3 3.x , netcdf-mpi / hdf5 : ( netcdf as default IO library )
[ubu_gnu_4.9_mpich]
enable_netcdf_default = yes

enable_mpi = yes
enable_mpi_io = yes
with_mpi_prefix = /usr/local/mpich3_gcc49

with_dft_flavor = libxc
with_libxc_incs = -I/usr/local/fallbacks/gnu/4.9/mpi/include
with_libxc_libs = -L/usr/local/fallbacks/gnu/4.9/mpi/lib -lxcf90 -lxc

with_trio_flavor = netcdf+etsf_io
with_etsf_io_incs = -I/usr/local/fallbacks/gnu/4.9/mpi/include
with_etsf_io_libs = -L/usr/local/fallbacks/gnu/4.9/mpi/lib -letsf_io_low_level -letsf_io_utils -letsf_io
with_netcdf_incs = -I/usr/local/netcdf/include -I/usr/local/hdf5_mpich/include
with_netcdf_libs = -L/usr/local/netcdf/lib -lnetcdff -lnetcdf -L/usr/local/hdf5_mpich/lib -lhdf5_hl -lhdf5

with_linalg_flavor = netlib
with_linalg_incs = -I/usr/include
with_linalg_libs = -L/usr/lib -llapack -lblas

enable_gw_dpc = yes
status = certified

# gnu 5.3 + openmpi-1.8.8
[ubu_gnu_5.3_openmpi]

FCFLAGS_EXTRA = -O2 -g -Wall -Wno-maybe-uninitialized -fbacktrace -pedantic -fcheck=all
#FCFLAGS_EXTRA = -O2 -g -Wall -Wno-maybe-uninitialized -ffpe-trap=invalid,zero,overflow -fbacktrace -pedantic -fcheck=all
enable_mpi = yes
enable_mpi_io = yes
with_mpi_prefix = /usr/local/openmpi-1.8.8_gcc53

with_trio_flavor = netcdf+etsf_io+psml
with_etsf_io_incs = -I/usr/local/fallbacks/gnu/5.3/mpi/include
with_etsf_io_libs = -L/usr/local/fallbacks/gnu/5.3/mpi/lib -letsf_io_low_level -letsf_io_utils -letsf_io
with_netcdf_incs = -I/usr/local/fallbacks/gnu/5.3/mpi/include
with_netcdf_libs = -L/usr/local/fallbacks/gnu/5.3/mpi/lib -lnetcdf
with_psml_incs = -I/usr/local/psml-gcc53/include
with_psml_libs = -L/usr/local/psml-gcc53/lib -lpsml

with_dft_flavor = atompaw+libxc+wannier90+bigdft
with_atompaw_bins = /usr/local/fallbacks/gnu/5.3/mpi/bin
with_atompaw_incs = -I/usr/local/fallbacks/gnu/5.3/mpi/include
with_atompaw_libs = -L/usr/local/fallbacks/gnu/5.3/mpi/lib -latompaw
with_libxc_incs = -I/usr/local/fallbacks/gnu/5.3/mpi/include
with_libxc_libs = -L/usr/local/fallbacks/gnu/5.3/mpi/lib -lxcf90 -lxc
with_wannier90_bins = /usr/local/fallbacks/gnu/5.3/mpi/bin
with_wannier90_incs = -I/usr/local/fallbacks/gnu/5.3/mpi/include
with_wannier90_libs = -L/usr/local/fallbacks/gnu/5.3/mpi/lib -lwannier90
with_bigdft_incs = -I/usr/local/fallbacks/gnu/5.3/mpi/include
with_bigdft_libs = -L/usr/local/fallbacks/gnu/5.3/mpi/lib -lbigdft-1 -labinit -lyaml -lrt
#with_fallbacks_prefix = /usr/local/fallbacks/gnu/5.3/mpi

with_fft_flavor = fftw3-mkl
with_fft_libs = -L${MKLROOT}/lib/intel64 -Wl,--start-group  -lmkl_gf_lp64 -lmkl_sequential -lmkl_core -Wl,--end-group
with_linalg_flavor = mkl
with_linalg_libs = -L${MKLROOT}/lib/intel64 -Wl,--start-group  -lmkl_gf_lp64 -lmkl_sequential -lmkl_core -Wl,--end-group

enable_gw_dpc = yes
status = certified

# ifort13.1 & OpenMPI 1.8.8
[ubu_intel_13.1_openmpi]
enable_mpi = yes
enable_mpi_io = yes
with_mpi_prefix = /usr/local/openmpi_intel13

with_dft_flavor = atompaw+bigdft+libxc+wannier90
with_trio_flavor = netcdf+etsf_io
with_fft_flavor = fftw3
with_fft_libs = -L/opt/intel/mkl/lib/intel64 -Wl,--start-group  -lmkl_intel_lp64 -lmkl_sequential -lmkl_core -Wl,--end-group
with_linalg_flavor = mkl
with_linalg_libs = -L/opt/intel/mkl/lib/intel64 -Wl,--start-group  -lmkl_intel_lp64 -lmkl_sequential -lmkl_core -Wl,--end-group

enable_gw_dpc = yes
status = certified

# ifort15 & mpich3 3.2
[ubu_intel_15.0_mpich]

CPP = icc -E
enable_avx_safe_mode = no
enable_gw_dpc = yes

enable_mpi = yes
enable_mpi_io = yes
with_mpi_prefix = /usr/local/mpich3-3.2_ifort15

with_trio_flavor = netcdf+etsf_io
with_dft_flavor = libxc

with_fft_flavor = fftw3-mkl
with_fft_libs = -L${MKLROOT}/lib/intel64 -Wl,--start-group  -lmkl_intel_lp64 -lmkl_sequential -lmkl_core -Wl,--end-group
with_linalg_flavor = mkl
with_linalg_libs = -L${MKLROOT}/lib/intel64 -Wl,--start-group  -lmkl_intel_lp64 -lmkl_sequential -lmkl_core -Wl,--end-group
status = certified

# ifort15 & mpich3 3.2 : check dfti
[ubu_intel_15.0_dfti]

CPP = icc -E
enable_avx_safe_mode = no

enable_mpi = yes
enable_mpi_io = yes
with_mpi_prefix = /usr/local/mpich3-3.2_ifort15

with_trio_flavor = netcdf+etsf_io
with_dft_flavor = libxc

with_fft_flavor = dfti
with_fft_libs = -L${MKLROOT}/lib/intel64 -Wl,--start-group  -lmkl_intel_lp64 -lmkl_sequential -lmkl_core -Wl,--end-group
with_linalg_flavor = mkl
with_linalg_libs = -L${MKLROOT}/lib/intel64 -Wl,--start-group  -lmkl_intel_lp64 -lmkl_sequential -lmkl_core -Wl,--end-group

enable_gw_dpc = yes
status = certified

# ifort15 & mpich3 3.2
[ubu_intel_16.0_mpich]

CPP = icc -E
enable_avx_safe_mode = no

enable_mpi = yes
enable_mpi_io = yes
with_mpi_prefix = /usr/local/mpich3-3.2_ifort16

with_trio_flavor = netcdf+etsf_io
with_dft_flavor = libxc

with_fft_flavor = fftw3-mkl
with_fft_libs = -L${MKLROOT}/lib/intel64 -Wl,--start-group  -lmkl_intel_lp64 -lmkl_sequential -lmkl_core -Wl,--end-group
with_linalg_flavor = mkl
with_linalg_libs = -L${MKLROOT}/lib/intel64 -Wl,--start-group  -lmkl_intel_lp64 -lmkl_sequential -lmkl_core -Wl,--end-group

enable_gw_dpc = yes
status = certified

#  ubuntu + deb packages )
[ubu_gnu_4.9_packages]
enable_gw_dpc = yes
enable_mpi = yes
enable_mpi_io = yes
with_dft_flavor = atompaw+bigdft+libxc+wannier90
with_trio_flavor = netcdf+etsf_io
with_mpi_prefix = /usr
with_linalg_flavor = atlas
with_linalg_libs = -L/usr/lib -llapack -lf77blas -lcblas -latlas
with_fft_flavor = fftw3
with_fft_incs = -I/usr/include/
with_fft_libs = -L/usr/lib/x86_64-linux-gnu -lfftw3 -lfftw3f
#with_etsf_io_incs= -I/usr/include
#with_etsf_io_libs= -L/usr/lib -letsf_io_low_level -letsf_io_utils -letsf_io
with_netcdf_incs = -I/usr/include
with_netcdf_libs = -L/usr/lib -lnetcdf -lnetcdff
status = certified

# END UBU
###########################################################

###########################################################
# BUDA

[buda_gnu_4.7_cuda]
enable_mpi = yes
enable_mpi_io = yes
with_mpi_prefix = /usr/local/openmpi-1.6.5_gcc47
with_dft_flavor = none

with_trio_flavor = netcdf+etsf_io
with_etsf_io_incs = -I/usr/local/fallbacks/gnu/4.7/mpi/include
with_etsf_io_libs = -L/usr/local/fallbacks/gnu/4.7/mpi/lib -letsf_io_low_level -letsf_io_utils -letsf_io
with_netcdf_incs = -I/usr/local/fallbacks/gnu/4.7/mpi/include
with_netcdf_libs = -L/usr/local/fallbacks/gnu/4.7/mpi/lib -lnetcdf

with_linalg_flavor = mkl+magma
with_linalg_incs = -I${MAGMA_ROOT}/include -I${MKLROOT}/include
with_linalg_libs = -L${MAGMA_ROOT}/lib -Wl,--start-group -lmagma -lcuda -Wl,--end-group -L${MKLROOT}/lib/intel64 -lmkl_gf_lp64 -lmkl_sequential -lmkl_core -lgomp -lpthread -lm

enable_gpu = yes
with_gpu_flavor = cuda-double
NVCC_CFLAGS = -O3 -arch=sm_13 -Xptxas=-v --use_fast_math --compiler-options -O3,-fPIC
FC_LDFLAGS_EXTRA = -Wl,-z,muldefs

enable_gw_dpc = yes
status = certified


[buda_intel_14.0_mpich]
CPP = icc -E
enable_mpi = yes
enable_mpi_io = yes
with_mpi_prefix = /usr/local/mpich3.1.2_ifort14
with_dft_flavor = libxc
with_libxc_incs = -I/usr/local/fallbacks/intel/14.0/mpi/include
with_libxc_libs = -L/usr/local/fallbacks/intel/14.0/mpi/lib -lxcf90 -lxc

with_trio_flavor = netcdf+etsf_io
with_etsf_io_incs = -I/usr/local/fallbacks/intel/14.0/mpi/include
with_etsf_io_libs = -L/usr/local/fallbacks/intel/14.0/mpi/lib -letsf_io_low_level -letsf_io_utils -letsf_io
with_netcdf_incs = -I/usr/local/fallbacks/intel/14.0/mpi/include
with_netcdf_libs = -L/usr/local/fallbacks/intel/14.0/mpi/lib -lnetcdf

enable_optim = aggressive

with_fft_flavor = fftw3
with_fft_libs = -L${MKLROOT}/lib/intel64 -Wl,--start-group  -lmkl_intel_lp64 -lmkl_sequential -lmkl_core -Wl,--end-group
with_linalg_flavor = mkl
with_linalg_libs = -L${MKLROOT}/lib/intel64 -Wl,--start-group  -lmkl_intel_lp64 -lmkl_sequential -lmkl_core -Wl,--end-group

enable_gw_dpc = yes
status = certified

[buda_gnu_4.9_abi]
FCFLAGS = -pg -g -Wall -pedantic -march=native -mtune=native -funroll-loops -O2 -Wstrict-aliasing=2 -fgcse-sm -ftree-vectorize -ffree-line-length-none -ffixed-line-length-none -fbounds-check

enable_mpi = yes
enable_mpi_io = yes
with_mpi_prefix = /usr/local/mpich3_gcc49

with_linalg_flavor = atlas
with_linalg_libs = -L/usr/local/atlas3.10_gcc49/lib -llapack -lf77blas -lcblas -latlas
with_linalg_incs= -I/usr/local/atlas3.10_gcc49/include

enable_maintainer_checks = yes
enable_exports = yes

with_trio_flavor= etsf_io+netcdf
with_etsf_io_incs= -I/home/buildbot/local/fb/gnu/4.9/mpi/include
with_etsf_io_libs= -L/home/buildbot/local/fb/gnu/4.9/mpi/lib -letsf_io_utils -letsf_io -letsf_io_low_level
with_netcdf_incs= -I/home/buildbot/local/fb/gnu/4.9/mpi/include
with_netcdf_libs= -L/home/buildbot/local/fb/gnu/4.9/mpi/lib -lnetcdf

with_dft_flavor= atompaw+bigdft+libxc+wannier90
with_atompaw_bins= /home/buildbot/local/fb/gnu/4.9/mpi/bin
with_atompaw_incs= -I/home/buildbot/local/fb/gnu/4.9/mpi/include
with_atompaw_libs= -L/home/buildbot/local/fb/gnu/4.9/mpi/lib -latompaw
with_bigdft_incs= -I/home/buildbot/local/fb/gnu/4.9/mpi/include
with_bigdft_libs= -L/home/buildbot/local/fb/gnu/4.9/mpi/lib -lbigdft-1 -labinit -lyaml
with_libxc_incs= -I/home/buildbot/local/fb/gnu/4.9/mpi/include
with_libxc_libs= -L/home/buildbot/local/fb/gnu/4.9/mpi/lib -lxcf90 -lxc
with_wannier90_bins= /home/buildbot/local/fb/gnu/4.9/mpi/bin
with_wannier90_incs= -I/home/buildbot/local/fb/gnu/4.9/mpi/include
with_wannier90_libs= -L/home/buildbot/local/fb/gnu/4.9/mpi/lib -lwannier90

enable_gw_dpc = yes
status = certified

# END BUDA
###########################################################


###########################################################
# BOB ( Fedora 23 )

[bob_gnu_5.3_openmp]
enable_mpi = no
enable_mpi_io = no
with_dft_flavor = none
FC_LDFLAGS_EXTRA = -fopenmp
FCFLAGS_EXTRA = -fopenmp

enable_openmp = yes
status = certified

# END BOB
###########################################################


###########################################################
# COBA2

[coba2_intel_13.1_openmpi]
enable_gw_dpc = yes
enable_mpi = yes
enable_mpi_io = yes
with_mpi_prefix = /usr/local/openmpi_intel13

with_trio_flavor = netcdf+etsf_io
with_etsf_io_incs = -I/usr/local/fallbacks/intel/13.1/mpi/include
with_etsf_io_libs = -L/usr/local/fallbacks/intel/13.1/mpi/lib -letsf_io_low_level -letsf_io_utils -letsf_io
with_netcdf_incs = -I/usr/local/fallbacks/intel/13.1/mpi/include
with_netcdf_libs = -L/usr/local/fallbacks/intel/13.1/mpi/lib -lnetcdf

with_dft_flavor = atompaw+libxc+wannier90+bigdft
with_atompaw_bins = /usr/local/fallbacks/intel/13.1/mpi/bin
with_atompaw_incs = -I/usr/local/fallbacks/intel/13.1/mpi/include
with_atompaw_libs = -L/usr/local/fallbacks/intel/13.1/mpi/lib -latompaw
with_libxc_incs = -I/usr/local/fallbacks/intel/13.1/mpi/include
with_libxc_libs = -L/usr/local/fallbacks/intel/13.1/mpi/lib -lxcf90 -lxc
with_wannier90_bins = /usr/local/fallbacks/intel/13.1/mpi/bin
with_wannier90_incs = -I/usr/local/fallbacks/intel/13.1/mpi/include
with_wannier90_libs = -L/usr/local/fallbacks/intel/13.1/mpi/lib -lwannier90
with_bigdft_incs = -I/usr/local/fallbacks/intel/13.1/mpi/include
with_bigdft_libs = -L/usr/local/fallbacks/intel/13.1/mpi/lib -lbigdft-1 -labinit -lyaml -lrt

with_fft_flavor = fftw3
with_fft_libs = -L/opt/intel/mkl/lib/intel64 -Wl,--start-group  -lmkl_intel_lp64 -lmkl_sequential -lmkl_core -Wl,--end-group
with_linalg_flavor = mkl
with_linalg_libs = -L/opt/intel/mkl/lib/intel64 -Wl,--start-group  -lmkl_intel_lp64 -lmkl_sequential -lmkl_core -Wl,--end-group
status = certified

# END BOB
###########################################################


###########################################################
# CRONOS

[cronos_gnu_5.3_paral]
enable_mpi = yes
enable_mpi_io = yes
with_mpi_prefix = ${MPI_HOME}

with_fft_flavor = fftw3
with_fft_libs = -L${MKLROOT}/lib/intel64 -Wl,--start-group -lmkl_gf_lp64 -lmkl_sequential -lmkl_core -Wl,--end-group
with_linalg_flavor = mkl
with_linalg_libs = -L${MKLROOT}/lib/intel64 -Wl,--start-group -lmkl_gf_lp64 -lmkl_sequential -lmkl_core -Wl,--end-group

with_trio_flavor = netcdf+etsf_io
with_etsf_io_incs = -I/usr/local/fallbacks/gnu/5.3/mpi/include
with_etsf_io_libs = -L/usr/local/fallbacks/gnu/5.3/mpi/lib -letsf_io_low_level -letsf_io_utils -letsf_io
with_netcdf_incs = -I/usr/local/fallbacks/gnu/5.3/mpi/include
with_netcdf_libs = -L/usr/local/fallbacks/gnu/5.3/mpi/lib -lnetcdf

with_dft_flavor = atompaw+libxc+wannier90+bigdft
with_atompaw_bins = /usr/local/fallbacks/gnu/5.3/mpi/bin
with_atompaw_incs = -I/usr/local/fallbacks/gnu/5.3/mpi/include
with_atompaw_libs = -L/usr/local/fallbacks/gnu/5.3/mpi/lib -latompaw
with_libxc_incs = -I/usr/local/fallbacks/gnu/5.3/mpi/include
with_libxc_libs = -L/usr/local/fallbacks/gnu/5.3/mpi/lib -lxcf90 -lxc
with_wannier90_bins = /usr/local/fallbacks/gnu/5.3/mpi/bin
with_wannier90_incs = -I/usr/local/fallbacks/gnu/5.3/mpi/include
with_wannier90_libs = -L/usr/local/fallbacks/gnu/5.3/mpi/lib -lwannier90
with_bigdft_incs = -I/usr/local/fallbacks/gnu/5.3/mpi/include
with_bigdft_libs = -L/usr/local/fallbacks/gnu/5.3/mpi/lib -lbigdft-1 -labinit -lyaml -lrt
#with_fallbacks_prefix = /usr/local/fallbacks/gnu/5.3/mpi

status = certified

[cronos_gnu_4.6_paral]
enable_mpi = yes
enable_mpi_io = yes
with_mpi_prefix = ${MPI_HOME}

with_fft_flavor = fftw3
with_fft_libs = -L${MKLROOT}/lib/intel64 -Wl,--start-group -lmkl_gf_lp64 -lmkl_sequential -lmkl_core -Wl,--end-group
with_linalg_flavor = mkl
with_linalg_libs = -L${MKLROOT}/lib/intel64 -Wl,--start-group -lmkl_gf_lp64 -lmkl_sequential -lmkl_core -Wl,--end-group

with_trio_flavor = netcdf+etsf_io
with_etsf_io_incs = -I/usr/local/fallbacks/gnu/4.6/mpi/include
with_etsf_io_libs = -L/usr/local/fallbacks/gnu/4.6/mpi/lib -letsf_io_low_level -letsf_io_utils -letsf_io
with_netcdf_incs = -I/usr/local/fallbacks/gnu/4.6/mpi/include
with_netcdf_libs = -L/usr/local/fallbacks/gnu/4.6/mpi/lib -lnetcdf

with_dft_flavor = atompaw+libxc+wannier90+bigdft
with_atompaw_bins = /usr/local/fallbacks/gnu/4.6/mpi/bin
with_atompaw_incs = -I/usr/local/fallbacks/gnu/4.6/mpi/include
with_atompaw_libs = -L/usr/local/fallbacks/gnu/4.6/mpi/lib -latompaw
with_libxc_incs = -I/usr/local/fallbacks/gnu/4.6/mpi/include
with_libxc_libs = -L/usr/local/fallbacks/gnu/4.6/mpi/lib -lxcf90 -lxc
with_wannier90_bins = /usr/local/fallbacks/gnu/4.6/mpi/bin
with_wannier90_incs = -I/usr/local/fallbacks/gnu/4.6/mpi/include
with_wannier90_libs = -L/usr/local/fallbacks/gnu/4.6/mpi/lib -lwannier90
with_bigdft_incs = -I/usr/local/fallbacks/gnu/4.6/mpi/include
with_bigdft_libs = -L/usr/local/fallbacks/gnu/4.6/mpi/lib -lbigdft-1 -labinit -lyaml -lrt
#with_fallbacks_prefix = /usr/local/fallbacks/gnu/4.6/mpi

status = certified

# END CRONOS
###########################################################


###########################################################
# MAX2

# ACML 6
[max2_gnu_5.3_mpich]
enable_mpi = yes
enable_mpi_io = yes
with_mpi_prefix = ${MPI_HOME}

#with_linalg_flavor = custom
#with_linalg_libs = -L/opt/acml4.4.0/gfortran64/lib -lacml -lacml_mv
# in ACML6, FFTW interface
#with_fft_flavor = fftw3
#with_fft_incs = -I/opt/acml6.1.0/include
#with_fft_libs = -L/opt/acml6.1.0/lib -lacml_fftw
with_linalg_flavor = acml
with_linalg_incs = -I/opt/acml6.1.0/include
with_linalg_libs = -L/opt/acml6.1.0/lib -lacml

with_trio_flavor = netcdf+etsf_io
with_etsf_io_incs = -I/usr/local/fallbacks/gnu/5.3/mpi/include
with_etsf_io_libs = -L/usr/local/fallbacks/gnu/5.3/mpi/lib -letsf_io_low_level -letsf_io_utils -letsf_io
with_netcdf_incs = -I/usr/local/fallbacks/gnu/5.3/mpi/include
with_netcdf_libs = -L/usr/local/fallbacks/gnu/5.3/mpi/lib -lnetcdf
#with_psml_incs = -I/usr/local/psml-gcc53/include
#with_psml_libs = -L/usr/local/psml-gcc53/lib -lpsml

with_dft_flavor = atompaw+libxc+wannier90+bigdft
with_atompaw_bins = /usr/local/fallbacks/gnu/5.3/mpi/bin
with_atompaw_incs = -I/usr/local/fallbacks/gnu/5.3/mpi/include
with_atompaw_libs = -L/usr/local/fallbacks/gnu/5.3/mpi/lib -latompaw
with_libxc_incs = -I/usr/local/fallbacks/gnu/5.3/mpi/include
with_libxc_libs = -L/usr/local/fallbacks/gnu/5.3/mpi/lib -lxcf90 -lxc
with_wannier90_bins = /usr/local/fallbacks/gnu/5.3/mpi/bin
with_wannier90_incs = -I/usr/local/fallbacks/gnu/5.3/mpi/include
with_wannier90_libs = -L/usr/local/fallbacks/gnu/5.3/mpi/lib -lwannier90
with_bigdft_incs = -I/usr/local/fallbacks/gnu/5.3/mpi/include
with_bigdft_libs = -L/usr/local/fallbacks/gnu/5.3/mpi/lib -lbigdft-1 -labinit -lyaml -lrt
#with_fallbacks_prefix = /usr/local/fallbacks/gnu/5.3/mpi

enable_memory_profiling = yes

enable_gw_dpc = yes
status = certified

[max2_gnu_5.3_dep]
FCFLAGS = -O1 -g -ffree-line-length-none -ffree-form
enable_mpi = yes
enable_mpi_io = yes
with_mpi_prefix = ${MPI_HOME}

with_trio_flavor = netcdf+etsf_io
with_linalg_flavor = acml
with_linalg_incs = -I/opt/acml6.1.0/include
with_linalg_libs = -L/opt/acml6.1.0/lib -lacml

enable_memory_profiling = yes

enable_gw_dpc = yes
status = certified


# END MAX2
###########################################################


###########################################################
# GRAPHENE   el capitan +gcc49
# MacPorts only ( except libxc == falbacks )

[graphene_gnu_4.9_macports]
FCFLAGS = -O2 -g -ffree-line-length-none
CFLAGS = -O2 -g
CXXFLAGS = -O2 -g
enable_mpi = yes
enable_mpi_io = yes
with_mpi_prefix = /opt/local
#
with_trio_flavor = netcdf+etsf_io
with_etsf_io_incs = -I/opt/local/include/gcc
with_netcdf_incs = -I/opt/local/include
with_netcdf_libs = -L/opt/local/lib -lnetcdf -lnetcdff
#
with_linalg_flavor = atlas+scalapack
with_linalg_incs = -I/opt/local/include
# with scalapack
with_linalg_libs = -L/opt/local/lib -lscalapack -llapack -lf77blas -lcblas -latlas
# without scalapack
#with_linalg_libs = -L/opt/local/lib -llapack -lf77blas -lcblas -latlas

with_fft_flavor = fftw3
with_fft_libs = -L/opt/local/lib -lfftw3 -lfftw3f
with_dft_flavor = libxc+wannier90
#with_libxc_incs = -I/opt/local/include
#with_libxc_libs = -L/opt/local/lib -lxc

status = certified

# END GRAPHENE
###########################################################


###########################################################
# TESTF

[testf_gnu_6.1_fb]

enable_mpi = yes
enable_mpi_io = yes
with_mpi_prefix = ${MPIHOME}

with_trio_flavor = netcdf+etsf_io+psml
with_psml_incs = -I/usr/local/psml-0.8_gcc61/include
with_psml_libs = -L/usr/local/psml-0.8_gcc61/lib -lpsml

enable_gw_dpc = yes
status = certified

# END TESTF
###########################################################


###########################################################
# TIKAL

[tikal_gnu_4.9_mpich]
enable_mpi = yes
enable_mpi_io = yes
with_mpi_prefix = /usr/local/mpich3_gcc49
enable_gw_dpc = yes

with_trio_flavor = netcdf+etsf_io+psml
with_etsf_io_incs = -I/usr/local/fallbacks/gnu/4.9/mpi/include
with_etsf_io_libs = -L/usr/local/fallbacks/gnu/4.9/mpi/lib -letsf_io_low_level -letsf_io_utils -letsf_io
with_netcdf_incs = -I/usr/local/fallbacks/gnu/4.9/mpi/include
with_netcdf_libs = -L/usr/local/fallbacks/gnu/4.9/mpi/lib -lnetcdf
with_psml_incs = -I/usr/local/psml-0.8/include
with_psml_libs = -L/usr/local/psml-0.8/lib -lpsml

with_dft_flavor = atompaw+libxc+wannier90
with_atompaw_bins = /usr/local/fallbacks/gnu/4.9/mpi/bin
with_atompaw_incs = -I/usr/local/fallbacks/gnu/4.9/mpi/include
with_atompaw_libs = -L/usr/local/fallbacks/gnu/4.9/mpi/lib -latompaw
with_libxc_incs = -I/usr/local/fallbacks/gnu/4.9/mpi/include
with_libxc_libs = -L/usr/local/fallbacks/gnu/4.9/mpi/lib -lxcf90 -lxc
with_wannier90_bins = /usr/local/fallbacks/gnu/4.9/mpi/bin
with_wannier90_incs = -I/usr/local/fallbacks/gnu/4.9/mpi/include
with_wannier90_libs = -L/usr/local/fallbacks/gnu/4.9/mpi/lib -lwannier90

with_fft_flavor = fftw3
with_fft_libs = -L${MKLROOT}/lib/intel64 -Wl,--start-group  -lmkl_gf_lp64 -lmkl_sequential -lmkl_core -Wl,--end-group
with_linalg_flavor = mkl
with_linalg_libs = -L${MKLROOT}/lib/intel64 -Wl,--start-group  -lmkl_gf_lp64 -lmkl_sequential -lmkl_core -Wl,--end-group

FCFLAGS_EXTRA = -O2 -g -Wall -Wno-maybe-uninitialized -ffpe-trap=invalid,zero,overflow -fbacktrace -pedantic -fcheck=all 
status = certified

[tikal_intel_15.0_serial]
FC = ifort
CC = icc
CXX = icpc
enable_mpi = no
with_dft_flavor = atompaw+bigdft+libxc+wannier90
with_bigdft_incs = -I/usr/local/fallbacks/intel/15.0/serial/include
with_bigdft_libs = -L/usr/local/fallbacks/intel/15.0/serial/lib -lbigdft-1 -labinit -lyaml -lrt
with_atompaw_bins = /usr/local/fallbacks/intel/15.0/serial/bin
with_atompaw_incs = -I/usr/local/fallbacks/intel/15.0/serial/include
with_atompaw_libs = -L/usr/local/fallbacks/intel/15.0/serial/lib -latompaw
with_libxc_incs = -I/usr/local/fallbacks/intel/15.0/serial/include
with_libxc_libs = -L/usr/local/fallbacks/intel/15.0/serial/lib -lxcf90 -lxc
with_wannier90_bins = /usr/local/fallbacks/intel/15.0/serial/bin
with_wannier90_incs = -I/usr/local/fallbacks/intel/15.0/serial/include
with_wannier90_libs = -L/usr/local/fallbacks/intel/15.0/serial/lib -lwannier90

with_trio_flavor = netcdf+etsf_io
with_etsf_io_incs = -I/usr/local/fallbacks/intel/15.0/serial/include
with_etsf_io_libs = -L/usr/local/fallbacks/intel/15.0/serial/lib -letsf_io_low_level -letsf_io_utils -letsf_io
with_netcdf_incs = -I/usr/local/fallbacks/intel/15.0/serial/include
with_netcdf_libs = -L/usr/local/fallbacks/intel/15.0/serial/lib -lnetcdf

with_fft_flavor = fftw3
with_fft_libs = -L${MKLROOT}/lib/intel64 -Wl,--start-group  -lmkl_intel_lp64 -lmkl_sequential -lmkl_core -Wl,--end-group
with_linalg_flavor = mkl
with_linalg_libs = -L${MKLROOT}/lib/intel64 -Wl,--start-group  -lmkl_intel_lp64 -lmkl_sequential -lmkl_core -Wl,--end-group

enable_gw_dpc = yes
status = certified

# coverage
[tikal_gnu_4.9_cov]
FCFLAGS_EXTRA = -fprofile-arcs -ftest-coverage
enable_mpi = yes
enable_mpi_io = yes
with_mpi_prefix = /usr/local/mpich3_gcc49
enable_gw_dpc = yes

with_trio_flavor = netcdf+etsf_io
with_etsf_io_incs = -I/usr/local/fallbacks/gnu/4.9/mpi/include
with_etsf_io_libs = -L/usr/local/fallbacks/gnu/4.9/mpi/lib -letsf_io_low_level -letsf_io_utils -letsf_io
with_netcdf_incs = -I/usr/local/fallbacks/gnu/4.9/mpi/include
with_netcdf_libs = -L/usr/local/fallbacks/gnu/4.9/mpi/lib -lnetcdf

with_dft_flavor = atompaw+libxc+wannier90+bigdft
with_atompaw_bins = /usr/local/fallbacks/gnu/4.9/mpi/bin
with_atompaw_incs = -I/usr/local/fallbacks/gnu/4.9/mpi/include
with_atompaw_libs = -L/usr/local/fallbacks/gnu/4.9/mpi/lib -latompaw
with_libxc_incs = -I/usr/local/fallbacks/gnu/4.9/mpi/include
with_libxc_libs = -L/usr/local/fallbacks/gnu/4.9/mpi/lib  -lxcf90 -lxc
with_wannier90_bins = /usr/local/fallbacks/gnu/4.9/mpi/bin
with_wannier90_incs = -I/usr/local/fallbacks/gnu/4.9/mpi/include
with_wannier90_libs = -L/usr/local/fallbacks/gnu/4.9/mpi/lib -lwannier90
with_bigdft_incs= -I/usr/local/fallbacks/gnu/4.9/mpi/include
with_bigdft_libs= -L/usr/local/fallbacks/gnu/4.9/mpi/lib -lbigdft-1 -labinit -lyaml

with_fft_flavor = fftw3
with_fft_libs = -L/opt/intel/composerxe_14/mkl/lib/intel64 -Wl,--start-group  -lmkl_gf_lp64 -lmkl_sequential -lmkl_core -Wl,--end-group
with_linalg_flavor = mkl
with_linalg_libs = -L/opt/intel/composerxe_14/mkl/lib/intel64 -Wl,--start-group  -lmkl_gf_lp64 -lmkl_sequential -lmkl_core -Wl,--end-group
status = certified

# END TIKAL
###########################################################


###########################################################
# INCA

[inca_gnu_4.9_mpich]

enable_mpi = yes
enable_mpi_io = yes
with_mpi_prefix = ${MPI_HOME}
with_linalg_flavor = atlas
with_linalg_libs = -L/usr/local/atlas3.10_gcc49/lib -llapack -lf77blas -lcblas -latlas
with_linalg_incs= -I/usr/local/atlas3.10_gcc49/include
enable_maintainer_checks = yes
enable_exports = yes

with_trio_flavor= etsf_io+netcdf
with_etsf_io_incs= -I/usr/local/fallbacks/gnu/4.9/mpi/include
with_etsf_io_libs= -L/usr/local/fallbacks/gnu/4.9/mpi/lib -letsf_io_utils -letsf_io -letsf_io_low_level
with_netcdf_incs= -I/usr/local/fallbacks/gnu/4.9/mpi/include
with_netcdf_libs= -L/usr/local/fallbacks/gnu/4.9/mpi/lib -lnetcdf

with_dft_flavor= atompaw+bigdft+libxc+wannier90
with_atompaw_bins= /usr/local/fallbacks/gnu/4.9/mpi/bin
with_atompaw_incs= -I/usr/local/fallbacks/gnu/4.9/mpi/include
with_atompaw_libs= -L/usr/local/fallbacks/gnu/4.9/mpi/lib -latompaw
with_bigdft_incs= -I/usr/local/fallbacks/gnu/4.9/mpi/include
with_bigdft_libs= -L/usr/local/fallbacks/gnu/4.9/mpi/lib -lbigdft-1 -labinit -lyaml
with_libxc_incs= -I/usr/local/fallbacks/gnu/4.9/mpi/include
with_libxc_libs= -L/usr/local/fallbacks/gnu/4.9/mpi/lib -lxcf90 -lxc
with_wannier90_bins= /usr/local/fallbacks/gnu/4.9/mpi/bin
with_wannier90_incs= -I/usr/local/fallbacks/gnu/4.9/mpi/include
with_wannier90_libs= -L/usr/local/fallbacks/gnu/4.9/mpi/lib -lwannier90

enable_gw_dpc = yes
status = certified

# END INCA
###########################################################


###########################################################
# PETRUS

[petrus_nag_5.3_openmpi]

enable_fc_wrapper = yes

FPPFLAGS = -P -traditional-cpp
FCFLAGS_EXTRA = -g -L/usr/local/nag/lib
enable_mpi = yes
enable_mpi_io = yes
with_mpi_prefix = /usr/local/openmpi-1.6.5_nag5.3.1

with_dft_flavor = none

with_trio_flavor = netcdf+etsf_io
with_etsf_io_incs = -I/usr/local/etsfio/include
with_etsf_io_libs = -L/usr/local/etsfio/lib -letsf_io_low_level -letsf_io_utils -letsf_io
with_netcdf_incs = -I/usr/local/netcdf/include
with_netcdf_libs = -L/usr/local/netcdf/lib -lnetcdff -lnetcdf

with_linalg_flavor = netlib
with_linalg_libs = -L/usr/local/fallbacks_nag/lib -llapack -lblas
with_fft_flavor = fftw3
with_fft_incs = -I/usr/include/
with_fft_libs = -L/usr/lib64 -lfftw3 -lfftw3f

enable_gw_dpc = yes
status = certified

# END PETRUS
###########################################################


###########################################################
# IBM8

[ibm8_ibm_15.1_serial]

CC = /opt/IBM/xlc/13.1.3/bin/xlc
CFLAGS = -g -qlanglvl=extc99 -O2 -q64 -qspill=2000 -qarch=pwr8 -qtune=auto -qcache=auto -qstrict -qsuppress=1520-031:1520-003
CXX = /opt/IBM/xlC/13.1.3/bin/xlC
FC = /opt/IBM/xlf/15.1.3/bin/xlf2003
FCFLAGS = -g -O2 -q64 -lxlopt -bmaxdata:2000000000 -qarch=pwr8 -qtune=auto -qstrict -qsuppress=1520-031:1520-003:1515-009 -qmaxmem=-1 -qcache=auto -qspillsize=1664
fcflags_opt_20_datashare = -O0 -q64 -lxlopt -bmaxdata:2000000000 -qarch=pwr8 -qtune=auto -qstrict -qsuppress=1520-031:1520-003:1515-009 -qmaxmem=-1 -qcache=auto -qspillsize=1664
enable_fc_wrapper = no

enable_64bit_flags = yes
enable_optim = yes
enable_mpi = no

with_linalg_flavor = netlib
with_linalg_libs = -L/opt/local/lib/linalg/ -llapack -lblas

#with_trio_flavor = netcdf+etsf_io

#with_dft_flavor =atompaw+libxc+wannier90
#with_bigdft_incs =-I/usr/local/bigdft_1.7/include
#with_bigdft_libs =-L/usr/local/bigdft_1.7/lib -lbigdft -ldft_common -labinit

enable_gw_dpc = yes
status = certified

# END IBM8
###########################################################


###########################################################
# IBM6

[ibm6_ibm_14.1_poe]

enable_mpi = yes
enable_mpi_io = yes
MPI_RUNNER = /usr/lpp/ppe.poe/bin/poe
CC =  /usr/lpp/ppe.poe/bin/mpcc_r
CXX = /usr/lpp/ppe.poe/bin/mpCC_r
FC = /usr/lpp/ppe.poe/bin/mpxlf90_r
enable_fc_wrapper = no

CPP = /usr/lpp/xlf/bin/cpp
AR = ar
ARFLAGS_EXTRA = -X64
enable_64bit_flags = yes

with_linalg_flavor = netlib
with_linalg_libs = -L/usr/local/lib64/linalg -llapack -lblas
with_netcdf_libs = -L/usr/local/netcdf/lib -lnetcdf
with_netcdf_incs = -I/usr/local/netcdf/include
with_bigdft_incs = -I/usr/local/bigdft_1.7/include
with_bigdft_libs = -L/usr/local/bigdft_1.7/lib -lbigdft -ldft_common -labinit

with_trio_flavor = netcdf+etsf_io
with_dft_flavor = atompaw+libxc+wannier90
#fcflags_opt_63_bader = -O3 -q64 -bmaxdata:2000000000 -qarch=pwr6 -qtune=auto -qstrict -qsuppress=1520-031:1520-003 -qmaxmem=-1 -qcache=auto

enable_optim = yes
CFLAGS = -qlanglvl=extc99 -O2 -q64 -qspill=2000 -qarch=pwr6 -qtune=auto -qcache=auto -qstrict -qsuppress=1520-031:1520-003
FCFLAGS = -g -O2 -q64 -lxlopt -bmaxdata:2000000000 -qarch=pwr6 -qtune=auto -qstrict -qsuppress=1520-031:1520-003 -qmaxmem=-1 -qcache=auto -qspillsize=1664
#FCFLAGS = -O2  -g4 -q64 -lxlopt -bmaxdata:2000000000 -qarch=pwr6 -qtune=auto -qstrict -qsuppress=1520-031:1520-003 -qmaxmem=-1 -qcache=auto -qspillsize=1664

enable_gw_dpc = yes
status = certified

# END IBM6
###########################################################






###########################################################
#   BUILDERS   DISABLED
###########################################################

###########################################################
# VISHNU

[bb_amd-gfortran4.7_vishnu]
with_dft_flavor = none
with_trio_flavor = etsf_io+netcdf
with_etsf_io_incs = -I/usr/local/fallbacks/include
with_etsf_io_libs = -L/usr/local/fallbacks/lib -letsf_io_low_level -letsf_io_utils -letsf_io
with_netcdf_incs = -I/usr/local/fallbacks/include
with_netcdf_libs = -L/usr/local/fallbacks/lib -lnetcdf
with_linalg_flavor= netlib
with_linalg_incs= -I/usr/local/fallbacks/include
with_linalg_libs= -L/usr/local/fallbacks/lib -llapack -lblas
enable_mpi = yes
enable_mpi_io = yes
with_mpi_prefix = /usr/local/openmpi
#enable_maintainer_checks = yes
status = certified


[bb_amd-gfortran4.7_vishnu_misc]
CC = /usr/local/gcc47/bin/gcc
CPP = /usr/local/gcc47/bin/cpp
FC = /usr/local/gcc47/bin/gfortran
enable_mpi = no
enable_mpi_io = no
enable_optim = no
with_dft_flavor = none
with_trio_flavor = etsf_io+netcdf
with_etsf_io_incs = -I/usr/local/fallbacks/include
with_etsf_io_libs = -L/usr/local/fallbacks/lib -letsf_io_low_level -letsf_io_utils -letsf_io
with_netcdf_incs = -I/usr/local/fallbacks/include
with_netcdf_libs = -L/usr/local/fallbacks/lib -lnetcdf
with_linalg_flavor= netlib
with_linalg_incs= -I/usr/local/fallbacks/include
with_linalg_libs= -L/usr/local/fallbacks/lib -llapack -lblas
enable_64bit_flags = no
enable_cclock = no
enable_debug = enhanced
enable_exports = no
enable_fc_wrapper = no
enable_gw_dpc = no
enable_macroave = no
enable_stdin = no
enable_openmp = no
status = certified

# END VISHNU
###########################################################


###########################################################
# WOOPY

[bb_intel-cygwin64]
enable_mpi= yes
with_mpi_prefix= /usr/local/mpich_gcc
enable_mpi_io= yes
with_trio_flavor= etsf_io+netcdf
with_etsf_io_incs= -I/usr/local/fallbacks/gnu/4.8/mpi/include
with_etsf_io_libs= -L/usr/local/fallbacks/gnu/4.8/mpi/lib -letsf_io_utils -letsf_io -letsf_io_low_level
with_netcdf_incs= -I/usr/local/fallbacks/gnu/4.8/mpi/include
with_netcdf_libs= -L/usr/local/fallbacks/gnu/4.8/mpi/lib -lnetcdf
with_linalg_flavor= netlib
with_linalg_incs= -I/usr/include
with_linalg_libs= -L/usr/lib -llapack -lblas
with_dft_flavor= atompaw+bigdft+libxc+wannier90
with_atompaw_bins= /usr/local/fallbacks/gnu/4.8/mpi/bin
with_atompaw_incs= -I/usr/local/fallbacks/gnu/4.8/mpi/include
with_atompaw_libs= -L/usr/local/fallbacks/gnu/4.8/mpi/lib -latompaw
with_bigdft_incs= -I/usr/local/fallbacks/gnu/4.8/mpi/include
with_bigdft_libs= -L/usr/local/fallbacks/gnu/4.8/mpi/lib -lbigdft-1 -labinit -lyaml
with_libxc_incs= -I/usr/local/fallbacks/gnu/4.8/mpi/include
with_libxc_libs= -L/usr/local/fallbacks/gnu/4.8/mpi/lib -lxcf90 -lxc -lml
with_wannier90_bins= /usr/local/fallbacks/gnu/4.8/mpi/bin
with_wannier90_incs= -I/usr/local/fallbacks/gnu/4.8/mpi/include
with_wannier90_libs= -L/usr/local/fallbacks/gnu/4.8/mpi/lib -lwannier90
#FCFLAGS = -mfpmath=sse -msse2 -O2 -ffree-line-length-none -Wstrict-aliasing=2 -static
#CFLAGS = -mfpmath=sse -msse2 -O2 -Wstrict-aliasing=2 -static
#CXXFLAGS = -mfpmath=sse -msse2 -O2 -Wstrict-aliasing=2 -static
CC_LIBS_EXTRA = -lml
FC_LIBS_EXTRA = -lml
enable_gw_dpc= yes
enable_debug= no
status = certified

# END WOOPY
###########################################################


# start section of BUDA
# reference builder for on_demand service ( world access )
[bb_xeon-gfortran4.7_buda]
enable_gw_dpc = yes
enable_mpi = yes
enable_mpi_io = yes
with_mpi_prefix = /usr/local/openmpi_gcc47
with_trio_flavor = netcdf+etsf_io
status = certified

# quick builder to test buildsys
[bb_xeon-gfortran4.7_buda_checks]
CC = /usr/local/gcc47/bin/gcc
FC = /usr/local/gcc47/bin/gfortran
enable_gpu = no
enable_mpi = no
enable_optim = no
with_trio_flavor = none
with_dft_flavor = none
enable_maintainer_checks = yes
enable_exports = yes
#enable_memory_profiling = yes
status = certified

# quick builder to test abirules for on_demand service ( world access )
[bb_xeon-gfortran4.7_buda_abi]
enable_gw_dpc = yes
enable_mpi = yes
enable_mpi_io = yes
with_mpi_prefix = /usr/local/openmpi_gcc
with_linalg_flavor = netlib
with_linalg_libs = -L/usr/local/liblinalg -llapack -lblas
with_trio_flavor = netcdf+etsf_io
with_dft_flavor = bigdft+atompaw+libxc+wannier90
# -pedantic problem with bigdft since gcc 4.7.4 then externalization
with_bigdft_incs= -I/usr/local/bigdft/include
with_bigdft_libs= -L/usr/local/bigdft/lib -lbigdft-1 -labinit -lyaml
with_libxc_incs= -I/usr/local/libxc/include
with_libxc_libs= -L/usr/local/libxc/lib -lxcf90 -lxc
enable_maintainer_checks = yes
enable_exports = yes
FCFLAGS = -pg -g -Wall -pedantic -march=native -mtune=native -funroll-loops -O2 -Wstrict-aliasing=2 -fgcse-sm -ftree-vectorize -ffree-line-length-none -ffixed-line-length-none -fbounds-check
status = certified


